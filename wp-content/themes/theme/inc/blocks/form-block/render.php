<?php
$classes = isset($block['className']) ? $block['className'] : '';
$align = (isset($block['align']) && !empty($block['align'])) ? 'align' . $block['align'] : '';

$block_title = get_field('block_title');
$block_subtitle = get_field('block_subtitle');
?>
<div id="form-block" class="block-margin <?= $classes; ?> alignfull">
    <div class="bg-left">
        <svg xmlns="http://www.w3.org/2000/svg" width="528" height="268" viewBox="0 0 528 268" fill="none">
            <path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd"
                  d="M400.901 245.015C447.095 78.9682 499.05 -97.1576 527.342 -167.277L416.059 -212.178C395.429 -161.049 365.082 -64.1755 333.76 42.7498C336.899 -41.8832 340.177 -107.017 343.617 -129.889L231.892 -168.053C206.009 -121.681 169.571 -38.8854 130.346 55.3379C172.64 -120.971 211.044 -267.774 213.723 -277.774L105.652 -326.294C75.4889 -280.474 33.9004 -209.258 -10.1826 -130.775C-6.35235 -145.077 -2.47989 -159.529 1.43957 -174.157C7.5696 -197.035 13.8146 -220.343 20.1929 -244.171L62.8155 -403.402L-72.1915 -308.827C-255.07 -180.717 -364.409 -126.379 -431.213 -111.464C-463.013 -104.364 -480.085 -107.419 -489.498 -111.197C-498.709 -114.894 -507.846 -122.174 -518.418 -137.844C-529.698 -154.564 -539.568 -176.076 -552.378 -205.089C-553.001 -206.499 -553.63 -207.925 -554.265 -209.365C-565.937 -235.833 -579.798 -267.262 -597.802 -297.517C-637.641 -364.462 -699.108 -427.865 -810.511 -452.157L-836.078 -334.913C-764.72 -319.352 -728.181 -281.953 -700.924 -236.15C-686.743 -212.32 -675.52 -186.896 -663.158 -158.893L-662.154 -156.619C-650.139 -129.408 -636.181 -97.835 -617.898 -70.7335C-598.907 -42.5831 -572.747 -15.3047 -534.195 0.168184C-495.846 15.5597 -452.69 16.2858 -405.065 5.65286C-337.289 -9.47915 -250.942 -49.8947 -136.906 -121.444C-177.7 31.0608 -214.256 169.166 -252.52 322.98L-140.963 364.955C-134.792 352.983 -76.1863 240.67 -6.17107 111.047C-29.0695 209.016 -51.7764 311.092 -69.4166 400.904C-87.7609 494.302 -101.531 578.786 -103.144 631.339L10.2433 660.507C36.3495 609.476 86.8996 483.325 140.962 348.411C150.018 325.81 159.173 302.964 168.328 280.184C182.022 246.108 195.723 212.162 209.168 179.173C208.174 211.746 207.204 244.718 206.249 277.161C202.969 388.575 199.874 493.749 196.663 555.077L316.129 565.563C316.09 565.878 316.233 565.252 316.63 563.509C317.424 560.029 319.233 552.094 322.643 538.294C327.161 520.004 333.544 495.042 341.344 465.224C356.934 405.626 378.039 327.191 400.901 245.015Z"
                  fill="var(--card)"/>
        </svg>
    </div>

    <div class="bg-right">
        <svg xmlns="http://www.w3.org/2000/svg" width="655" height="268" viewBox="0 0 655 268" fill="none">
            <path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd"
                  d="M1025.89 245.015C1072.09 78.9682 1124.04 -97.1576 1152.33 -167.277L1041.05 -212.178C1020.42 -161.049 990.074 -64.1755 958.752 42.7498C961.891 -41.8832 965.169 -107.017 968.609 -129.889L856.884 -168.053C831.001 -121.681 794.563 -38.8854 755.339 55.3379C797.632 -120.971 836.036 -267.774 838.716 -277.774L730.644 -326.294C700.481 -280.474 658.893 -209.258 614.81 -130.775C618.64 -145.077 622.512 -159.529 626.432 -174.157C632.562 -197.035 638.807 -220.343 645.185 -244.171L687.808 -403.402L552.801 -308.827C369.922 -180.717 260.583 -126.379 193.779 -111.464C161.98 -104.364 144.908 -107.419 135.494 -111.197C126.283 -114.894 117.146 -122.174 106.574 -137.844C95.2943 -154.564 85.4241 -176.076 72.6139 -205.089C71.9913 -206.499 71.3625 -207.925 70.7272 -209.365C59.0547 -235.833 45.1941 -267.262 27.1899 -297.517C-12.6491 -364.462 -74.1157 -427.865 -185.519 -452.157L-211.085 -334.913C-139.728 -319.352 -103.189 -281.953 -75.9316 -236.15C-61.7505 -212.32 -50.5275 -186.896 -38.1656 -158.893L-37.1615 -156.619C-25.1468 -129.408 -11.1887 -97.835 7.09459 -70.7335C26.0856 -42.5831 52.2454 -15.3047 90.7975 0.168184C129.147 15.5597 172.303 16.2858 219.927 5.65286C287.703 -9.47915 374.05 -49.8947 488.087 -121.444C447.292 31.0608 410.737 169.166 372.472 322.98L484.03 364.955C490.201 352.983 548.806 240.67 618.821 111.047C595.923 209.016 573.216 311.092 555.576 400.904C537.231 494.302 523.461 578.786 521.848 631.339L635.235 660.507C661.342 609.476 711.892 483.325 765.954 348.411C775.01 325.81 784.165 302.964 793.32 280.184C807.014 246.108 820.715 212.162 834.16 179.173C833.166 211.746 832.196 244.718 831.241 277.161C827.962 388.575 824.866 493.749 821.655 555.077L941.121 565.563C941.083 565.878 941.225 565.252 941.623 563.509C942.416 560.029 944.226 552.094 947.635 538.294C952.153 520.004 958.536 495.042 966.336 465.224C981.926 405.626 1003.03 327.191 1025.89 245.015Z"
                  fill="var(--card)"/>
        </svg>
    </div>

    <div class="container">
        <div class="block__content">
            <?php if ($block_title || $block_subtitle) { ?>
                <div class="block__text">
                    <?php if ($block_title) { ?>
                        <h2 class="block__title block-title"><?= $block_title; ?></h2>
                    <?php } ?>

                    <?php if ($block_subtitle) { ?>
                        <div class="block__subtitle p2"><?= $block_subtitle; ?></div>
                    <?php } ?>
                </div>
            <?php } ?>

            <div class="block__form">
                <?php get_form('callback') ?>
            </div>
        </div>
    </div>
</div>